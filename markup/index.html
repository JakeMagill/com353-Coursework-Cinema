<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Cinema Tickets</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <!-- Custom styles for this template -->
    <link href="../css/site.css" rel="stylesheet">
</head>

<body>
    <div id="navbarDiv">
        <!--Will be populated by the navbar.js file-->
    </div>

    <!--Carousel-->
    <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="../media/ffh_banner.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="../media/endgame_banner.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="../media/posters/us-movie-poster.jpg" class="d-block w-100" alt="...">
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <!-- Main Page Content -->
    <div class="container">
        <h3 class="pt-5">
            <u>Popular Releases</u>
        </h3>
        <div class="row py-5" id="movieCards">
            <!--Cards from the renderMovieCards() method will be rendered here, see home.js file-->
        </div>
    </div>

    <div class="container"  id="recentlyViewed">
        
            <!--will render movies whos title is currently being stored in the sites cookie-->
    
    </div>

    <!-- Footer -->
    <footer class="py-5 bg-dark footer">
        <div class="container">
            <div class="col-md-4  col-sm-12">
                <p class="m-0 text-white">B00746082 B00748213 B00691535</p>
            </div>
            <!-- Footer Links -->
            <div class="col-md-4 col-sm-12">
                <p class="text-white">
                    <ul class="div-list">
                        <li>
                            <a href="">Privacy Policy</a>
                        </li>
                    </ul>
                </p>
            </div>

            <a href="http://www.facebook.com" class="fa fa-facebook"></a>
            <a href="http://www.twitter.com" class="fa fa-twitter"></a>
        </div>
    </footer>

    <!-- Cookie policy bar (see JS logic at page bottom) -->
    <div id='cookieAcceptBar' class="cookieAcceptBar bg-dark mb-0 text-white">
        <p>This website uses cookies, please click 'Accept and Close' to accept the use of cookies on our website. By continuing
            to browse you accept the use of cookies on the website.</p>
        <p>For more information on how we use cookies please visit our Cookie & Privacy Policy page notice page.</p>
        <button id="cookieAcceptBarConfirm" class="btn btn-success">
            <span>Accept and Close</span>
        </button>
    </div>

    <!-- Custom JS -->
    <script src="../js/Cookie.js"></script>
    <script src="../js/home.js"></script>
    <script src="../js/Movies.js"></script>
    <script src="../js/Navbar.js"></script>

    <!-- JS CDNs required for bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script>
        $(document).ready(function () {
            renderNavbar(returnMoviesList()); // renders the navbar at the top of the page
            renderMovieCards(returnMoviesList()); // renders the cards for the movies, calls movies.js to get the movies to render
            cookiesPolicyBar(); // checks for cookie on  page load, if none is found shows the policy bar to the user
            renderRecentlyViewed(getCookie('cinemaTicketCookie'), returnMoviesList());
        });

        //Assign cookie on click of the accept button on the cookie bar
        $('#cookieAcceptBarConfirm').on('click', function () {
            var recentMovies = [];
            var recentMoviesArr = JSON.stringify(recentMovies);
            createCookie("cinemaTicketCookie", recentMoviesArr, 1); // creates cookie
            $('#cookieAcceptBar').hide(); // fades out the cookie bar
        });


    </script>
</body>

</html>